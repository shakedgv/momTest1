
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="google" content="notranslate">
    <title>The Mom Test - Masterclass</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@200;300;400;500;600;700;800&family=Heebo:wght@100;300;400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --safe-top: env(safe-area-inset-top, 20px);
            --safe-bottom: env(safe-area-inset-bottom, 20px);
        }
        body {
            font-family: 'Assistant', 'Heebo', sans-serif;
            background-color: #000;
            margin: 0;
            overflow: hidden;
            height: 100vh;
            height: 100dvh;
            display: flex;
            justify-content: center;
            align-items: center;
            -webkit-text-size-adjust: 100%;
        }
        .story-gradient-1 { background: linear-gradient(180deg, #FF3D68 0%, #FF8E3C 100%); }
        .story-gradient-2 { background: linear-gradient(180deg, #0072FF 0%, #00C6FF 100%); }
        .story-gradient-3 { background: linear-gradient(180deg, #F53844 0%, #FEAC5E 100%); }
        .story-gradient-4 { background: linear-gradient(180deg, #11998e 0%, #38ef7d 100%); }
        .story-gradient-5 { background: linear-gradient(180deg, #6a11cb 0%, #2575fc 100%); }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .noise {
            pointer-events: none;
            position: absolute;
            inset: 0;
            z-index: 50;
            opacity: 0.05;
            mix-blend-mode: overlay;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        @keyframes slideUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-5px); } }
        .animate-slide-up { animation: slideUp 0.4s cubic-bezier(0.19, 1, 0.22, 1) forwards; }
        .animate-float { animation: float 4s ease-in-out infinite; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Responsive adjustments for very small screens */
        @media (max-height: 670px) {
            .header-section { padding-top: calc(var(--safe-top) + 10px) !important; margin-bottom: 0.5rem !important; }
            .header-icon { width: 2.5rem !important; height: 2.5rem !important; }
            .header-title { font-size: 1.25rem !important; }
            .content-p { font-size: 0.95rem !important; padding: 0.85rem !important; }
            .interactive-box { padding: 1rem !important; margin-top: 0.5rem !important; }
        }

        [dir="rtl"] .ltr { direction: ltr; }
    </style>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div class="noise"></div>
    <div id="root" class="w-full h-full flex justify-center items-center"></div>

    <script type="module">
        import React from 'https://esm.sh/react@19';
        import { createRoot } from 'https://esm.sh/react-dom@19/client';
        import htm from 'https://esm.sh/htm';

        const html = htm.bind(React.createElement);
        const { useState, useEffect, useRef } = React;

        const STORIES_DATA = [
            { id: 1, title: "בואו נדבר תכלס", gradientClass: "story-gradient-1", icon: "MessageCircle", content: ["האמרה ״צאו לראות את המשתמשים שלכם״ היא כמו לתת עצה לילד הפחות מקובל של השכבה שפשוט ״יהיה מגניב״.", "צריך לדעת איך לעשות את זה נכון. על זה נדבר פה.", "העקרונות המוזכרים לוקחים מספר מצוין שנקרא the mom test. ממליץ בחום לקרוא אותו.", "האם מישהו ירצה להשתמש בזה בכלל? זה קריטי לא פחות מהפיתוח.", "חברות לא נסגרות מחוסר רעיונות, הן טובעות מעומס האפשרויות.", "גם להבין שלא צריך לפתח משהו זה הישג אדיר!"] },
            { id: 2, title: "איך ניגשים לשיחה?", gradientClass: "story-gradient-2", icon: "Users", content: ["לפני השיחה: הגדירו 3 מטרות, צעדים הבאים והתחייבויות שתרצו לקבל.", "שאפו לשיחות לא פורמליות - שיחת התעניינות, לא 'ראיון'.", "אל תגידו 'תודה על זמנך, יש לנו שאלות'. פשוט תתחילו לדבר.", "זה בסדר להתחיל מקשיים שאתם לא יכולים לפתור - זה בונה אמון.", "תחשבו על זה כמו דייט - זורמים עם השיחה במקום לבקש אישור.", "אם זה מרגיש שהם עושים לכם טובה - השיחה פורמלית מדי."] },
            { id: 3, title: "זהירות! מחמאות", gradientClass: "story-gradient-3", icon: "ShieldAlert", content: ["אנשים ישקרו לכם כדי שתגידו להם תודה ותרגישו טוב.", "אל תיפלו למחמאות! תגידו תודה בנימוס ותמשיכו הלאה.", "מחמאות מסיחות את הדעת וגורמות למשתמשים להמשיך להטעות.", "תמיד דחפו להתחייבות פרקטית במקום מילים יפות.", "אם הם מתחמקים מלהפנות אתכם לאחרים - זה סימן קריטי."] },
            { id: 4, title: "מלכודת הפיצ'רים", gradientClass: "story-gradient-5", icon: "Layers", content: ["כשמבקשים פיצ'ר - תבינו את ה'למה' שמאחוריו.", "המשתמשים יודעים מה הבעיות, אופן המימוש הוא האחריות שלכם.", "אל תפתחו רק פלסטר - תפתרו את שורש הכאב."] },
            { id: 5, title: "להרוג את השאלות הגנריות", gradientClass: "story-gradient-1", icon: "Target", content: ["הימנעו משאלות כמו 'אם היה כזה היית משתמש?'. זה שקר אופטימי.", "אנשים מתארים את מי שהם רוצים להיות, לא את מי שהם בפועל.", "בכל פעם שהם אומרים 'תמיד' או 'בדרך כלל' - בקשו דוגמה ספציפית.", "במקום 'אני תמיד משתמש בזה' -> 'מתי הייתה הפעם האחרונה ומה עשית?'"] },
            { id: 6, title: "קודם הבעיה, אחר כך הפתרון", gradientClass: "story-gradient-2", icon: "Lightbulb", content: ["חכו עם הרעיון המבריק שלכם. ודאו שהבנתם את הבעיה קודם.", "בשיחה טובה באמת, לא תצטרכו להציג את הרעיון - הוא יעלה מהצורך.", "אם התחלתם למכור בטעות - תתנצלו ותחזרו להקשיב.", "המיקוד הוא בחיים שלהם, לא במוצר שלכם."] },
            { id: 7, title: "3 חוקי הברזל", gradientClass: "story-gradient-3", icon: "Gavel", content: ["1. דברו על החיים והעבודה שלהם, לא על הרעיונות שלכם.", "2. שאלו על העבר ודוגמאות ספציפיות במקום תיאוריות על העתיד.", "3. דברו פחות, תקשיבו הרבה יותר."] },
            { id: 8, title: "להפריד תלונות ממציאות", gradientClass: "story-gradient-4", icon: "Eye", content: ["אנשים אוהבים להתלונן. חפשו איפה הכאב באמת שורף.", "שאלו: 'איך ניסית לפתור את זה עד עכשיו?'.", "אם הם לא חיפשו פתרון עד היום - הבעיה כנראה לא מספיק גדולה.", "סיימו ב: 'עם מי עוד כדאי לי לדבר?' ו'מה שכחתי לשאול?'"] },
            { id: 9, title: "התחייבות היא המשחק", gradientClass: "story-gradient-5", icon: "Handshake", content: ["בקשו לראות את התהליך בעיניים. אל תסתפקו בתיאור.", "אנשים מפסיקים לשקר כשזה עולה להם בזמן, מאמץ או כסף.", "'נשמע מגניב' זה לא התחייבות. 'תקבעו לי פגישה עם הבוס' - כן."] },
            { id: 10, title: "סיכום ותובנות", gradientClass: "story-gradient-2", type: 'interactive', icon: "ClipboardCheck", content: ["הגעתם לסוף! זכרו: אמא שלכם תשקר לכם כי היא אוהבת אתכם.", "המשתמשים ישקרו כי הם נחמדים. הסוד הוא לשאול על העבר.", "צאו לראיין נכון ותבנו מוצרים שאנשים באמת צריכים.", "שתפו תובנה מעניינת שלקחתם מכאן!"] }
        ];

        const Icon = ({ name, className }) => {
            const getIconContent = (n) => {
                switch (n) {
                    case 'MessageCircle': return html`<path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z" />`;
                    case 'Users': return html`<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" /><circle cx="9" cy="7" r="4" />`;
                    case 'ShieldAlert': return html`<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" /><line x1="12" y1="8" x2="12" y2="12" /><line x1="12" y1="16" x2="12.01" y2="16" />`;
                    case 'Layers': return html`<path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.27a1 1 0 0 0 0 1.83l8.57 4.09a2 2 0 0 0 1.66 0l8.57-4.09a1 1 0 0 0 0-1.83Z" />`;
                    case 'Target': return html`<circle cx="12" cy="12" r="10" /><circle cx="12" cy="12" r="6" /><circle cx="12" cy="12" r="2" />`;
                    case 'Lightbulb': return html`<path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A5 5 0 0 0 8 8c0 1.3.5 2.6 1.5 3.5.8.8 1.3 1.5 1.5 2.5" /><path d="M9 18h6" /><path d="M10 22h4" />`;
                    case 'Gavel': return html`<path d="m14 13-5 5 2 2 5-5-2-2Z" /><path d="m2 21 3-3" /><path d="m15 4 6 6" />`;
                    case 'Eye': return html`<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" /><circle cx="12" cy="12" r="3" />`;
                    case 'Handshake': return html`<path d="M11 18l-2-1-1 1-1-1-1 1" /><path d="m11 14 2 2 2-2" /><path d="m7 11 5 5 5-5" />`;
                    case 'ClipboardCheck': return html`<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" /><path d="m9 14 2 2 4-4" /><path d="M8 2v4h8V2" />`;
                    default: return html`<circle cx="12" cy="12" r="10" />`;
                }
            };
            return html`
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className=${className}>
                    ${getIconContent(name)}
                </svg>
            `;
        };

        const App = () => {
            const [index, setIndex] = useState(0);
            const [insights, setInsights] = useState([]);
            const [text, setText] = useState('');
            const scrollRef = useRef(null);
            const current = STORIES_DATA[index];

            useEffect(() => {
                if (scrollRef.current) scrollRef.current.scrollTop = 0;
            }, [index]);

            const handleTouch = (e) => {
                if (e.target.closest('.interactive')) return;
                const x = e.clientX || e.touches?.[0]?.clientX;
                const width = window.innerWidth;
                if (x < width / 2) {
                    if (index < STORIES_DATA.length - 1) setIndex(index + 1);
                } else {
                    if (index > 0) setIndex(index - 1);
                }
            };

            return html`
                <div className="relative w-full h-full max-w-md bg-zinc-950 flex flex-col overflow-hidden transition-all duration-700 md:rounded-[40px] md:h-[90vh] md:shadow-2xl" style=${{ height: '100dvh' }} onClick=${handleTouch}>
                    <div className="absolute inset-0 transition-all duration-700 ${current.gradientClass}"></div>
                    
                    <div className="absolute left-0 right-0 z-[100] flex gap-1 px-4" style=${{ top: 'calc(var(--safe-top) + 8px)' }}>
                        ${STORIES_DATA.map((_, i) => html`
                            <div key=${i} className="h-[2.5px] flex-1 bg-white/20 rounded-full overflow-hidden">
                                <div className="h-full bg-white transition-all duration-300 shadow-[0_0_10px_white]" style=${{ width: i <= index ? '100%' : '0%' }} />
                            </div>
                        `)}
                    </div>

                    <div className="flex-1 flex flex-col relative z-10 px-5 overflow-hidden">
                        <div className="header-section flex flex-col items-center mb-4 flex-shrink-0" style=${{ paddingTop: 'calc(var(--safe-top) + 24px)' }}>
                            <div className="header-icon w-11 h-11 glass-card rounded-2xl flex items-center justify-center mb-3 animate-float flex-shrink-0">
                                <${Icon} name=${current.icon} className="text-white w-5 h-5" />
                            </div>
                            <h1 className="header-title text-xl font-black text-white text-center drop-shadow-lg leading-tight">${current.title}</h1>
                            <div className="w-6 h-0.5 bg-white/30 rounded-full mt-2"></div>
                        </div>

                        <div ref=${scrollRef} className="flex-1 overflow-y-auto no-scrollbar space-y-3 pb-24">
                            ${current.content.map((p, i) => html`
                                <div key=${index + '-' + i} className="animate-slide-up opacity-0" style=${{ animationDelay: (i * 0.08) + 's' }}>
                                    <p className="content-p text-[1.05rem] font-bold text-white bg-black/20 border border-white/10 p-4 rounded-[22px] backdrop-blur-md shadow-sm leading-snug">${p}</p>
                                </div>
                            `)}

                            ${current.type === 'interactive' && html`
                                <div className="interactive-box mt-4 p-5 glass-card rounded-[28px] space-y-3 shadow-xl">
                                    <div className="flex items-center gap-2 mb-1 px-1">
                                        <div className="w-2 h-2 rounded-full bg-white animate-pulse"></div>
                                        <span className="text-[10px] font-black text-white/70 uppercase tracking-widest">תובנה אישית</span>
                                    </div>
                                    <textarea 
                                        value=${text} 
                                        onChange=${(e) => setText(e.target.value)} 
                                        placeholder="מה לקחת מהפרק הזה?" 
                                        className="interactive w-full bg-white/10 border border-white/10 text-white p-3 rounded-xl h-20 outline-none text-sm placeholder:text-white/30" 
                                    />
                                    <button 
                                        onClick=${() => { if(text) { setInsights([text, ...insights]); setText(''); } }} 
                                        className="interactive w-full py-2.5 bg-white text-black font-black rounded-xl active:scale-95 transition-transform shadow-lg text-sm"
                                    >
                                        פרסם תובנה
                                    </button>
                                    ${insights.length > 0 && html`
                                        <div className="space-y-2 mt-3 max-h-32 overflow-y-auto no-scrollbar">
                                            ${insights.map((ins, i) => html`<div key=${i} className="text-[11px] text-white/90 p-2.5 bg-white/5 rounded-lg border border-white/5 italic line-clamp-3">"${ins}"</div>`)}
                                        </div>
                                    `}
                                </div>
                            `}
                        </div>
                    </div>

                    <div className="absolute left-0 right-0 flex justify-center z-50 pointer-events-none opacity-40 px-6" style=${{ bottom: 'calc(var(--safe-bottom) + 12px)' }}>
                        <div className="flex justify-between w-full text-[9px] font-black text-white uppercase tracking-[0.2em]">
                            <span>הבא ←</span>
                            <span>→ הקודם</span>
                        </div>
                    </div>

                    <div className="absolute left-0 right-0 flex justify-center pointer-events-none z-40" style=${{ bottom: 'calc(var(--safe-bottom) + 8px)' }}>
                        <div className="px-3 py-1 bg-black/20 backdrop-blur-md rounded-full border border-white/10">
                            <span className="text-[10px] font-black text-white/50 tracking-widest">${index + 1} / ${STORIES_DATA.length}</span>
                        </div>
                    </div>
                </div>
            `;
        };

        createRoot(document.getElementById('root')).render(html`<${App} />`);
    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
